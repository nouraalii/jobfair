<div *ngIf="errorMessage" class="text-center text-4xl text-red-600 font-bold my-12">
  {{ errorMessage }}
</div>

<div *ngIf="successMessage" 
     class="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50">
  {{ successMessage }}
</div>


<div *ngIf="!errorMessage">
  <section class="mx-auto px-4 container">
    <!-- Hero Section -->
  <div class="relative bg-gray-300 h-96 flex items-center justify-center mt-8 rounded-2xl ">
    <img src="../../../assets/images/tims-clothing1.png" alt="Hero Image" class="absolute inset-0 w-full h-full">
    <div class="relative z-10 text-center text-white">
      <h1 class="text-4xl font-bold">LOREM Ipsum</h1>
      <p class="text-lg">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </div>
  </div>

  <!-- Collections Section -->
<div class="py-10 text-center">
  <h2 class="text-3xl font-bold mb-6">OUR COLLECTIONS</h2>

 <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto cursor-pointer">
  <div *ngFor="let product of featuredProducts.slice(0,3)" class="collection-card">
    <img [src]="product.image" alt="{{product.title}}" class="collection-image" onerror="this.style.display='none'" />
    <div class="p-4 text-left">
      <p class="font-semibold text-2xl mb-1">{{ product.category }}</p>
      <h3 class=" text-xs text-gray-600">{{ product.title }}</h3>
    </div>
  </div>
</div>
</div>

<div class="py-10 text-center">
  <h2 class="text-3xl font-bold mb-6">SOME PRODUCTS</h2>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 max-w-7xl mx-auto px-4 cursor-pointer">
  <div *ngFor="let product of allProducts.slice(0,8)" 
       class="border rounded-lg overflow-hidden relative flex flex-col justify-between">

    <!-- Product Image -->
    <div class="relative" [routerLink]="['/products-details', product.id]">
      <img [src]="product.image" alt="{{product.title}}" class="w-full h-48 object-cover" />
      <div class="absolute top-2 right-2 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-md">
        ${{ product.price }}
      </div>
    </div>

    <!--  Product Info -->
    <div class="p-4 text-left flex flex-col flex-grow">
      <h3 class="font-semibold text-lg mb-1">{{ product.title }}</h3>
      <p class="text-gray-600 text-sm">{{ product.category }}</p>

      <!-- Rating -->
      <div class="flex items-center mt-2 mb-4">
        <ng-container *ngFor="let star of [1,2,3,4,5]">
          <i class="fa-solid fa-star"
             [class.text-yellow-400]="star <= (product.rating?.rate || 0)"
             [class.text-gray-300]="star > (product.rating?.rate || 0)"></i>
        </ng-container>
        <span class="text-gray-500 text-sm ml-2">({{ product.rating?.count || 0 }} reviews)</span>
      </div>

      <!-- Add to Cart -->
      <div class="mt-auto">
        <button (click)="addToCart(product, $event)"
                class="w-full px-6 py-2 bg-gray-800 text-white rounded-full font-semibold hover:bg-blue-700 transition">
           Add to Cart
        </button>
      </div>
    </div>

  </div>
</div>




  <!-- âœ… See More Button -->
  <button 
    routerLink="/products"
    class="mt-6 px-6 py-2 bg-gray-800 text-white rounded-full font-semibold hover:bg-blue-700 transition">
    See More
  </button>
</div>



</section>
</div>